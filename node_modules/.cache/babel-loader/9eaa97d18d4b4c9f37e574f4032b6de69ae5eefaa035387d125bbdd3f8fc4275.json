{"ast":null,"code":"var _jsxFileName = \"/Users/dibelaba/Documents/GitHub/KBF/src/layouts/pages/BecomePlayer/index.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Container from \"@mui/material/Container\";\nimport Grid from \"@mui/material/Grid\";\nimport Card from \"@mui/material/Card\";\nimport MKBox from \"components/MKBox\";\nimport MKTypography from \"components/MKTypography\";\nimport MKButton from \"components/MKButton\";\nimport MKInput from \"components/MKInput\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport Header from \"components/Header\";\nimport Footer from \"components/Footer\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport PhoneInput from \"components/PhoneInput\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogContent from '@mui/material/DialogContent';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport { initiateMobileMoneyPayment } from 'services/payment';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\n\n// Form validation schema\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst validationSchema = Yup.object().shape({\n  fullName: Yup.string().matches(/^[a-zA-Z\\s]*$/, \"Name can only contain letters\").min(2, \"Name is too short\").max(50, \"Name is too long\").required(\"Full name is required\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  phoneNumber: Yup.string().matches(/^\\+?[0-9]\\d{1,14}$/, \"Invalid phone number\").required(\"Phone number is required\"),\n  age: Yup.number().required(\"Age is required\"),\n  position: Yup.string().oneOf(['goalkeeper', 'defender', 'midfielder', 'forward'], \"Please select a valid position\").required(\"Position is required\"),\n  emailUpdates: Yup.boolean(),\n  mobileMoneyProvider: Yup.string().oneOf(['mtn', 'vod', 'atl'], \"Please select a valid mobile money provider\").required(\"Mobile money provider is required\")\n});\nfunction BecomePlayer() {\n  _s();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [emailExists, setEmailExists] = useState(false);\n  const [showThankYou, setShowThankYou] = useState(false);\n  const [paymentStatus, setPaymentStatus] = useState(null);\n  const REGISTRATION_FEE_GHS = 465;\n  const checkEmailExists = async email => {\n    try {\n      const response = await fetch(\"https://x8ki-letl-twmt.n7.xano.io/api:TF3YOouP/check_email\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email\n        })\n      });\n      const data = await response.json();\n      return !!data.email;\n    } catch (err) {\n      return false;\n    }\n  };\n  const formik = useFormik({\n    initialValues: {\n      fullName: \"\",\n      email: \"\",\n      phoneNumber: \"\",\n      age: \"\",\n      position: \"\",\n      emailUpdates: false,\n      mobileMoneyProvider: \"\"\n    },\n    validationSchema,\n    onSubmit: async values => {\n      try {\n        setIsSubmitting(true);\n        setError(null);\n        setPaymentStatus(null);\n\n        // Check if email exists before proceeding\n        const exists = await checkEmailExists(values.email);\n        if (exists) {\n          setEmailExists(true);\n          setError(\"This email is already registered. Please use a different email address.\");\n          setIsSubmitting(false);\n          return;\n        }\n\n        // Initiate mobile money payment\n        const paymentResponse = await initiateMobileMoneyPayment({\n          email: values.email,\n          amount: REGISTRATION_FEE_GHS,\n          phone: values.phoneNumber,\n          provider: values.mobileMoneyProvider\n        });\n        if (paymentResponse.status) {\n          // Submit form data to database\n          const response = await fetch(\"https://x8ki-letl-twmt.n7.xano.io/api:TF3YOouP/kbfoundation\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              ...values,\n              registrationFee: REGISTRATION_FEE_GHS * 100,\n              // Convert to pesewas\n              paymentReference: paymentResponse.data.reference\n            })\n          });\n          if (!response.ok) {\n            throw new Error(\"Failed to submit application\");\n          }\n          setPaymentStatus({\n            type: 'success',\n            message: 'Payment initiated successfully. Please check your phone for the payment prompt.',\n            reference: paymentResponse.data.reference\n          });\n          setShowThankYou(true);\n        } else {\n          throw new Error(paymentResponse.message || \"Payment initiation failed\");\n        }\n      } catch (err) {\n        setError(err.message);\n        setPaymentStatus({\n          type: 'error',\n          message: err.message\n        });\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n      minHeight: \"100vh\",\n      width: \"100%\",\n      sx: {\n        backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('/images/soccer-feet.jpg')`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n        paddingTop: \"70px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justifyContent: \"center\",\n          py: 6,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 8,\n            lg: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                p: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(MKTypography, {\n                variant: \"h3\",\n                textAlign: \"center\",\n                mb: 3,\n                children: \"Become a Player\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: formik.handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(MKInput, {\n                    fullWidth: true,\n                    label: \"Full Name\",\n                    name: \"fullName\",\n                    value: formik.values.fullName,\n                    onChange: formik.handleChange,\n                    error: formik.touched.fullName && Boolean(formik.errors.fullName),\n                    helperText: formik.touched.fullName && formik.errors.fullName,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(MKInput, {\n                    fullWidth: true,\n                    label: \"Email\",\n                    name: \"email\",\n                    type: \"email\",\n                    value: formik.values.email,\n                    onChange: formik.handleChange,\n                    error: formik.touched.email && Boolean(formik.errors.email),\n                    helperText: formik.touched.email && formik.errors.email,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(PhoneInput, {\n                    fullWidth: true,\n                    label: \"Phone Number\",\n                    name: \"phoneNumber\",\n                    value: formik.values.phoneNumber,\n                    onChange: formik.handleChange,\n                    error: formik.touched.phoneNumber && Boolean(formik.errors.phoneNumber),\n                    helperText: formik.touched.phoneNumber && formik.errors.phoneNumber,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(MKInput, {\n                    fullWidth: true,\n                    label: \"Age\",\n                    name: \"age\",\n                    type: \"number\",\n                    value: formik.values.age,\n                    onChange: formik.handleChange,\n                    error: formik.touched.age && Boolean(formik.errors.age),\n                    helperText: formik.touched.age && formik.errors.age,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    fullWidth: true,\n                    variant: \"standard\",\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      shrink: true,\n                      children: \"Position\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      name: \"position\",\n                      value: formik.values.position,\n                      onChange: formik.handleChange,\n                      error: formik.touched.position && Boolean(formik.errors.position),\n                      displayEmpty: true,\n                      sx: {\n                        height: \"43px\",\n                        \"& .MuiSelect-select\": {\n                          paddingTop: \"12px\"\n                        }\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"\",\n                        disabled: true,\n                        children: \"Select position\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"goalkeeper\",\n                        children: \"Goalkeeper\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"defender\",\n                        children: \"Defender\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 244,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"midfielder\",\n                        children: \"Midfielder\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 245,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"forward\",\n                        children: \"Forward\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 246,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 23\n                    }, this), formik.touched.position && formik.errors.position && /*#__PURE__*/_jsxDEV(MKTypography, {\n                      variant: \"caption\",\n                      color: \"error\",\n                      children: formik.errors.position\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 225,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    fullWidth: true,\n                    variant: \"standard\",\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      shrink: true,\n                      children: \"Mobile Money Provider\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      name: \"mobileMoneyProvider\",\n                      value: formik.values.mobileMoneyProvider,\n                      onChange: formik.handleChange,\n                      error: formik.touched.mobileMoneyProvider && Boolean(formik.errors.mobileMoneyProvider),\n                      displayEmpty: true,\n                      sx: {\n                        height: \"43px\",\n                        \"& .MuiSelect-select\": {\n                          paddingTop: \"12px\"\n                        }\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"\",\n                        disabled: true,\n                        children: \"Select provider\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"mtn\",\n                        children: \"MTN Mobile Money\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 275,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"vod\",\n                        children: \"Vodafone Cash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 276,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"atl\",\n                        children: \"AirtelTigo Money\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 277,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 23\n                    }, this), formik.touched.mobileMoneyProvider && formik.errors.mobileMoneyProvider && /*#__PURE__*/_jsxDEV(MKTypography, {\n                      variant: \"caption\",\n                      color: \"error\",\n                      children: formik.errors.mobileMoneyProvider\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 3,\n                  children: /*#__PURE__*/_jsxDEV(MKTypography, {\n                    variant: \"body2\",\n                    color: \"text\",\n                    children: [\"Registration Fee: GHS \", REGISTRATION_FEE_GHS]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 3,\n                  children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                      name: \"emailUpdates\",\n                      checked: formik.values.emailUpdates,\n                      onChange: e => {\n                        formik.handleChange(e);\n                        formik.setFieldValue(\"emailUpdates\", e.target.checked);\n                      },\n                      onBlur: formik.handleBlur,\n                      color: \"error\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 296,\n                      columnNumber: 25\n                    }, this),\n                    label: \"Receive email updates about training and events\",\n                    sx: {\n                      width: \"100%\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 19\n                }, this), error && /*#__PURE__*/_jsxDEV(MKTypography, {\n                  color: \"error\",\n                  variant: \"caption\",\n                  mb: 2,\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 21\n                }, this), paymentStatus && /*#__PURE__*/_jsxDEV(Alert, {\n                  severity: paymentStatus.type,\n                  sx: {\n                    mb: 2\n                  },\n                  children: paymentStatus.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MKButton, {\n                  variant: \"contained\",\n                  color: \"error\",\n                  fullWidth: true,\n                  type: \"submit\",\n                  disabled: isSubmitting,\n                  children: isSubmitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                    size: 24,\n                    color: \"inherit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this) : \"Register Now\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showThankYou,\n      onClose: () => setShowThankYou(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(MKBox, {\n          textAlign: \"center\",\n          py: 4,\n          children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            color: \"success\",\n            sx: {\n              fontSize: 60,\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MKTypography, {\n            variant: \"h4\",\n            mb: 2,\n            children: \"Thank You for Registering!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MKTypography, {\n            variant: \"body1\",\n            mb: 3,\n            children: \"Your application has been submitted successfully. Please check your phone for the mobile money payment prompt to complete your registration.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this), (paymentStatus === null || paymentStatus === void 0 ? void 0 : paymentStatus.reference) && /*#__PURE__*/_jsxDEV(MKTypography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: [\"Reference: \", paymentStatus.reference]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(BecomePlayer, \"5intq+56bcdxq9k0frx8UoViYes=\", false, function () {\n  return [useFormik];\n});\n_c = BecomePlayer;\nexport default BecomePlayer;\nvar _c;\n$RefreshReg$(_c, \"BecomePlayer\");","map":{"version":3,"names":["useState","useFormik","Yup","Container","Grid","Card","MKBox","MKTypography","MKButton","MKInput","FormControlLabel","Checkbox","Header","Footer","MenuItem","Select","FormControl","InputLabel","PhoneInput","Dialog","DialogContent","CheckCircleIcon","initiateMobileMoneyPayment","CircularProgress","Alert","jsxDEV","_jsxDEV","Fragment","_Fragment","validationSchema","object","shape","fullName","string","matches","min","max","required","email","phoneNumber","age","number","position","oneOf","emailUpdates","boolean","mobileMoneyProvider","BecomePlayer","_s","isSubmitting","setIsSubmitting","error","setError","emailExists","setEmailExists","showThankYou","setShowThankYou","paymentStatus","setPaymentStatus","REGISTRATION_FEE_GHS","checkEmailExists","response","fetch","method","headers","body","JSON","stringify","data","json","err","formik","initialValues","onSubmit","values","exists","paymentResponse","amount","phone","provider","status","registrationFee","paymentReference","reference","ok","Error","type","message","children","fileName","_jsxFileName","lineNumber","columnNumber","minHeight","width","sx","backgroundImage","backgroundSize","backgroundPosition","paddingTop","container","justifyContent","py","item","xs","md","lg","p","variant","textAlign","mb","handleSubmit","fullWidth","label","name","value","onChange","handleChange","touched","Boolean","errors","helperText","shrink","displayEmpty","height","disabled","color","control","checked","e","setFieldValue","target","onBlur","handleBlur","severity","size","open","onClose","maxWidth","fontSize","_c","$RefreshReg$"],"sources":["/Users/dibelaba/Documents/GitHub/KBF/src/layouts/pages/BecomePlayer/index.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Container from \"@mui/material/Container\";\nimport Grid from \"@mui/material/Grid\";\nimport Card from \"@mui/material/Card\";\nimport MKBox from \"components/MKBox\";\nimport MKTypography from \"components/MKTypography\";\nimport MKButton from \"components/MKButton\";\nimport MKInput from \"components/MKInput\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport Header from \"components/Header\";\nimport Footer from \"components/Footer\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport PhoneInput from \"components/PhoneInput\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogContent from '@mui/material/DialogContent';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport { initiateMobileMoneyPayment } from 'services/payment';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\n\n// Form validation schema\nconst validationSchema = Yup.object().shape({\n  fullName: Yup.string()\n    .matches(/^[a-zA-Z\\s]*$/, \"Name can only contain letters\")\n    .min(2, \"Name is too short\")\n    .max(50, \"Name is too long\")\n    .required(\"Full name is required\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  phoneNumber: Yup.string()\n    .matches(/^\\+?[0-9]\\d{1,14}$/, \"Invalid phone number\")\n    .required(\"Phone number is required\"),\n  age: Yup.number()\n    .required(\"Age is required\"),\n  position: Yup.string()\n    .oneOf(['goalkeeper', 'defender', 'midfielder', 'forward'], \"Please select a valid position\")\n    .required(\"Position is required\"),\n  emailUpdates: Yup.boolean(),\n  mobileMoneyProvider: Yup.string()\n    .oneOf(['mtn', 'vod', 'atl'], \"Please select a valid mobile money provider\")\n    .required(\"Mobile money provider is required\"),\n});\n\nfunction BecomePlayer() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [emailExists, setEmailExists] = useState(false);\n  const [showThankYou, setShowThankYou] = useState(false);\n  const [paymentStatus, setPaymentStatus] = useState(null);\n  const REGISTRATION_FEE_GHS = 465;\n\n  const checkEmailExists = async (email) => {\n    try {\n      const response = await fetch(\n        \"https://x8ki-letl-twmt.n7.xano.io/api:TF3YOouP/check_email\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ email }),\n        }\n      );\n\n      const data = await response.json();\n      return !!data.email;\n    } catch (err) {\n      return false;\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      fullName: \"\",\n      email: \"\",\n      phoneNumber: \"\",\n      age: \"\",\n      position: \"\",\n      emailUpdates: false,\n      mobileMoneyProvider: \"\",\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setIsSubmitting(true);\n        setError(null);\n        setPaymentStatus(null);\n\n        // Check if email exists before proceeding\n        const exists = await checkEmailExists(values.email);\n        if (exists) {\n          setEmailExists(true);\n          setError(\"This email is already registered. Please use a different email address.\");\n          setIsSubmitting(false);\n          return;\n        }\n\n        // Initiate mobile money payment\n        const paymentResponse = await initiateMobileMoneyPayment({\n          email: values.email,\n          amount: REGISTRATION_FEE_GHS,\n          phone: values.phoneNumber,\n          provider: values.mobileMoneyProvider\n        });\n\n        if (paymentResponse.status) {\n          // Submit form data to database\n          const response = await fetch(\n            \"https://x8ki-letl-twmt.n7.xano.io/api:TF3YOouP/kbfoundation\",\n            {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              body: JSON.stringify({\n                ...values,\n                registrationFee: REGISTRATION_FEE_GHS * 100, // Convert to pesewas\n                paymentReference: paymentResponse.data.reference,\n              }),\n            }\n          );\n\n          if (!response.ok) {\n            throw new Error(\"Failed to submit application\");\n          }\n\n          setPaymentStatus({\n            type: 'success',\n            message: 'Payment initiated successfully. Please check your phone for the payment prompt.',\n            reference: paymentResponse.data.reference\n          });\n          setShowThankYou(true);\n        } else {\n          throw new Error(paymentResponse.message || \"Payment initiation failed\");\n        }\n      } catch (err) {\n        setError(err.message);\n        setPaymentStatus({\n          type: 'error',\n          message: err.message\n        });\n      } finally {\n        setIsSubmitting(false);\n      }\n    },\n  });\n\n  return (\n    <>\n      <Header />\n      <MKBox\n        minHeight=\"100vh\"\n        width=\"100%\"\n        sx={{\n          backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('/images/soccer-feet.jpg')`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          paddingTop: \"70px\",\n        }}\n      >\n        <Container>\n          <Grid container justifyContent=\"center\" py={6}>\n            <Grid item xs={12} md={8} lg={6}>\n              <Card sx={{ p: 4 }}>\n                <MKTypography variant=\"h3\" textAlign=\"center\" mb={3}>\n                  Become a Player\n                </MKTypography>\n                <form onSubmit={formik.handleSubmit}>\n                  <MKBox mb={2}>\n                    <MKInput\n                      fullWidth\n                      label=\"Full Name\"\n                      name=\"fullName\"\n                      value={formik.values.fullName}\n                      onChange={formik.handleChange}\n                      error={formik.touched.fullName && Boolean(formik.errors.fullName)}\n                      helperText={formik.touched.fullName && formik.errors.fullName}\n                      required\n                    />\n                  </MKBox>\n                  <MKBox mb={2}>\n                    <MKInput\n                      fullWidth\n                      label=\"Email\"\n                      name=\"email\"\n                      type=\"email\"\n                      value={formik.values.email}\n                      onChange={formik.handleChange}\n                      error={formik.touched.email && Boolean(formik.errors.email)}\n                      helperText={formik.touched.email && formik.errors.email}\n                      required\n                    />\n                  </MKBox>\n                  <MKBox mb={2}>\n                    <PhoneInput\n                      fullWidth\n                      label=\"Phone Number\"\n                      name=\"phoneNumber\"\n                      value={formik.values.phoneNumber}\n                      onChange={formik.handleChange}\n                      error={formik.touched.phoneNumber && Boolean(formik.errors.phoneNumber)}\n                      helperText={formik.touched.phoneNumber && formik.errors.phoneNumber}\n                      required\n                    />\n                  </MKBox>\n                  <MKBox mb={2}>\n                    <MKInput\n                      fullWidth\n                      label=\"Age\"\n                      name=\"age\"\n                      type=\"number\"\n                      value={formik.values.age}\n                      onChange={formik.handleChange}\n                      error={formik.touched.age && Boolean(formik.errors.age)}\n                      helperText={formik.touched.age && formik.errors.age}\n                      required\n                    />\n                  </MKBox>\n                  <MKBox mb={2}>\n                    <FormControl fullWidth variant=\"standard\">\n                      <InputLabel shrink>Position</InputLabel>\n                      <Select\n                        name=\"position\"\n                        value={formik.values.position}\n                        onChange={formik.handleChange}\n                        error={formik.touched.position && Boolean(formik.errors.position)}\n                        displayEmpty\n                        sx={{\n                          height: \"43px\",\n                          \"& .MuiSelect-select\": {\n                            paddingTop: \"12px\",\n                          },\n                        }}\n                      >\n                        <MenuItem value=\"\" disabled>\n                          Select position\n                        </MenuItem>\n                        <MenuItem value=\"goalkeeper\">Goalkeeper</MenuItem>\n                        <MenuItem value=\"defender\">Defender</MenuItem>\n                        <MenuItem value=\"midfielder\">Midfielder</MenuItem>\n                        <MenuItem value=\"forward\">Forward</MenuItem>\n                      </Select>\n                      {formik.touched.position && formik.errors.position && (\n                        <MKTypography variant=\"caption\" color=\"error\">\n                          {formik.errors.position}\n                        </MKTypography>\n                      )}\n                    </FormControl>\n                  </MKBox>\n\n                  <MKBox mb={2}>\n                    <FormControl fullWidth variant=\"standard\">\n                      <InputLabel shrink>Mobile Money Provider</InputLabel>\n                      <Select\n                        name=\"mobileMoneyProvider\"\n                        value={formik.values.mobileMoneyProvider}\n                        onChange={formik.handleChange}\n                        error={formik.touched.mobileMoneyProvider && Boolean(formik.errors.mobileMoneyProvider)}\n                        displayEmpty\n                        sx={{\n                          height: \"43px\",\n                          \"& .MuiSelect-select\": {\n                            paddingTop: \"12px\",\n                          },\n                        }}\n                      >\n                        <MenuItem value=\"\" disabled>\n                          Select provider\n                        </MenuItem>\n                        <MenuItem value=\"mtn\">MTN Mobile Money</MenuItem>\n                        <MenuItem value=\"vod\">Vodafone Cash</MenuItem>\n                        <MenuItem value=\"atl\">AirtelTigo Money</MenuItem>\n                      </Select>\n                      {formik.touched.mobileMoneyProvider && formik.errors.mobileMoneyProvider && (\n                        <MKTypography variant=\"caption\" color=\"error\">\n                          {formik.errors.mobileMoneyProvider}\n                        </MKTypography>\n                      )}\n                    </FormControl>\n                  </MKBox>\n\n                  <MKBox mb={3}>\n                    <MKTypography variant=\"body2\" color=\"text\">\n                      Registration Fee: GHS {REGISTRATION_FEE_GHS}\n                    </MKTypography>\n                  </MKBox>\n\n                  <MKBox mb={3}>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          name=\"emailUpdates\"\n                          checked={formik.values.emailUpdates}\n                          onChange={(e) => {\n                            formik.handleChange(e);\n                            formik.setFieldValue(\"emailUpdates\", e.target.checked);\n                          }}\n                          onBlur={formik.handleBlur}\n                          color=\"error\"\n                        />\n                      }\n                      label=\"Receive email updates about training and events\"\n                      sx={{ width: \"100%\" }}\n                    />\n                  </MKBox>\n\n                  {error && (\n                    <MKTypography color=\"error\" variant=\"caption\" mb={2}>\n                      {error}\n                    </MKTypography>\n                  )}\n\n                  {paymentStatus && (\n                    <Alert \n                      severity={paymentStatus.type} \n                      sx={{ mb: 2 }}\n                    >\n                      {paymentStatus.message}\n                    </Alert>\n                  )}\n\n                  <MKButton\n                    variant=\"contained\"\n                    color=\"error\"\n                    fullWidth\n                    type=\"submit\"\n                    disabled={isSubmitting}\n                  >\n                    {isSubmitting ? (\n                      <CircularProgress size={24} color=\"inherit\" />\n                    ) : (\n                      \"Register Now\"\n                    )}\n                  </MKButton>\n                </form>\n              </Card>\n            </Grid>\n          </Grid>\n        </Container>\n      </MKBox>\n\n      <Dialog\n        open={showThankYou}\n        onClose={() => setShowThankYou(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogContent>\n          <MKBox textAlign=\"center\" py={4}>\n            <CheckCircleIcon color=\"success\" sx={{ fontSize: 60, mb: 2 }} />\n            <MKTypography variant=\"h4\" mb={2}>\n              Thank You for Registering!\n            </MKTypography>\n            <MKTypography variant=\"body1\" mb={3}>\n              Your application has been submitted successfully. Please check your phone for the mobile money payment prompt to complete your registration.\n            </MKTypography>\n            {paymentStatus?.reference && (\n              <MKTypography variant=\"caption\" color=\"text.secondary\">\n                Reference: {paymentStatus.reference}\n              </MKTypography>\n            )}\n          </MKBox>\n        </DialogContent>\n      </Dialog>\n\n      <Footer />\n    </>\n  );\n}\n\nexport default BecomePlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
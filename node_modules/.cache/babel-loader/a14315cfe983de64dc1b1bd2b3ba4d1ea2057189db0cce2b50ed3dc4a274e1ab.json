{"ast":null,"code":"import axios from 'axios';\nconst PAYSTACK_SECRET_KEY = process.env.REACT_APP_PAYSTACK_SECRET_KEY;\nexport const initiateMobileMoneyPayment = async ({\n  email,\n  amount,\n  phone,\n  provider\n}) => {\n  try {\n    const response = await axios.post('https://api.paystack.co/charge', {\n      email,\n      amount: amount * 100,\n      // Convert to pesewas\n      currency: 'GHS',\n      mobile_money: {\n        phone,\n        provider\n      }\n    }, {\n      headers: {\n        Authorization: `Bearer ${PAYSTACK_SECRET_KEY}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    throw new Error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Payment initiation failed');\n  }\n};\nexport const verifyPayment = async reference => {\n  try {\n    const response = await axios.get(`https://api.paystack.co/transaction/verify/${reference}`, {\n      headers: {\n        Authorization: `Bearer ${PAYSTACK_SECRET_KEY}`\n      }\n    });\n    return response.data;\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    throw new Error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Payment verification failed');\n  }\n};","map":{"version":3,"names":["axios","PAYSTACK_SECRET_KEY","process","env","REACT_APP_PAYSTACK_SECRET_KEY","initiateMobileMoneyPayment","email","amount","phone","provider","response","post","currency","mobile_money","headers","Authorization","data","error","_error$response","_error$response$data","Error","message","verifyPayment","reference","get","_error$response2","_error$response2$data"],"sources":["/Users/dibelaba/Documents/GitHub/KBF/src/services/payment.js"],"sourcesContent":["import axios from 'axios';\n\nconst PAYSTACK_SECRET_KEY = process.env.REACT_APP_PAYSTACK_SECRET_KEY;\n\nexport const initiateMobileMoneyPayment = async ({ email, amount, phone, provider }) => {\n  try {\n    const response = await axios.post(\n      'https://api.paystack.co/charge',\n      {\n        email,\n        amount: amount * 100, // Convert to pesewas\n        currency: 'GHS',\n        mobile_money: {\n          phone,\n          provider\n        }\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${PAYSTACK_SECRET_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      }\n    );\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || 'Payment initiation failed');\n  }\n};\n\nexport const verifyPayment = async (reference) => {\n  try {\n    const response = await axios.get(\n      `https://api.paystack.co/transaction/verify/${reference}`,\n      {\n        headers: {\n          Authorization: `Bearer ${PAYSTACK_SECRET_KEY}`\n        }\n      }\n    );\n\n    return response.data;\n  } catch (error) {\n    throw new Error(error.response?.data?.message || 'Payment verification failed');\n  }\n}; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,mBAAmB,GAAGC,OAAO,CAACC,GAAG,CAACC,6BAA6B;AAErE,OAAO,MAAMC,0BAA0B,GAAG,MAAAA,CAAO;EAAEC,KAAK;EAAEC,MAAM;EAAEC,KAAK;EAAEC;AAAS,CAAC,KAAK;EACtF,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAC/B,gCAAgC,EAChC;MACEL,KAAK;MACLC,MAAM,EAAEA,MAAM,GAAG,GAAG;MAAE;MACtBK,QAAQ,EAAE,KAAK;MACfC,YAAY,EAAE;QACZL,KAAK;QACLC;MACF;IACF,CAAC,EACD;MACEK,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUd,mBAAmB,EAAE;QAC9C,cAAc,EAAE;MAClB;IACF,CACF,CAAC;IAED,OAAOS,QAAQ,CAACM,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACd,MAAM,IAAIC,KAAK,CAAC,EAAAF,eAAA,GAAAD,KAAK,CAACP,QAAQ,cAAAQ,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBF,IAAI,cAAAG,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI,2BAA2B,CAAC;EAC/E;AACF,CAAC;AAED,OAAO,MAAMC,aAAa,GAAG,MAAOC,SAAS,IAAK;EAChD,IAAI;IACF,MAAMb,QAAQ,GAAG,MAAMV,KAAK,CAACwB,GAAG,CAC9B,8CAA8CD,SAAS,EAAE,EACzD;MACET,OAAO,EAAE;QACPC,aAAa,EAAE,UAAUd,mBAAmB;MAC9C;IACF,CACF,CAAC;IAED,OAAOS,QAAQ,CAACM,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAQ,gBAAA,EAAAC,qBAAA;IACd,MAAM,IAAIN,KAAK,CAAC,EAAAK,gBAAA,GAAAR,KAAK,CAACP,QAAQ,cAAAe,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBT,IAAI,cAAAU,qBAAA,uBAApBA,qBAAA,CAAsBL,OAAO,KAAI,6BAA6B,CAAC;EACjF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/dibelaba/Documents/GitHub/KBF/src/layouts/pages/BecomeSponsor/index.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Container from \"@mui/material/Container\";\nimport Grid from \"@mui/material/Grid\";\nimport Card from \"@mui/material/Card\";\nimport MKBox from \"components/MKBox\";\nimport MKTypography from \"components/MKTypography\";\nimport MKButton from \"components/MKButton\";\nimport MKInput from \"components/MKInput\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport Header from \"components/Header\";\nimport Footer from \"components/Footer\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport PhoneInput from \"components/PhoneInput\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogContent from '@mui/material/DialogContent';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport { initiateMobileMoneyPayment } from 'services/payment';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\n\n// Form validation schema\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst validationSchema = Yup.object().shape({\n  fullName: Yup.string().matches(/^[a-zA-Z\\s]*$/, \"Name can only contain letters\").min(2, \"Name is too short\").max(50, \"Name is too long\").required(\"Full name is required\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  phoneNumber: Yup.string().matches(/^\\+?[0-9]\\d{1,14}$/, \"Invalid phone number\").required(\"Phone number is required\"),\n  sponsorNumber: Yup.number().min(1, \"Must sponsor at least 1 player\").max(10, \"Maximum 10 players per sponsor\").required(\"Number of players is required\"),\n  emailUpdates: Yup.boolean(),\n  mobileMoneyProvider: Yup.string().oneOf(['mtn', 'vod', 'atl'], \"Please select a valid mobile money provider\").required(\"Mobile money provider is required\")\n});\nfunction BecomeSponsor() {\n  _s();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [emailExists, setEmailExists] = useState(false);\n  const [showThankYou, setShowThankYou] = useState(false);\n  const [paymentStatus, setPaymentStatus] = useState(null);\n  const PRICE_PER_PLAYER_GHS = 465;\n  const calculateTotalPrice = numberOfPlayers => {\n    return numberOfPlayers * PRICE_PER_PLAYER_GHS;\n  };\n  const checkEmailExists = async email => {\n    try {\n      const response = await fetch(\"https://x8ki-letl-twmt.n7.xano.io/api:TF3YOouP/check_email\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email\n        })\n      });\n      const data = await response.json();\n      return !!data.email;\n    } catch (err) {\n      return false;\n    }\n  };\n  const formik = useFormik({\n    initialValues: {\n      fullName: \"\",\n      email: \"\",\n      phoneNumber: \"\",\n      sponsorNumber: \"\",\n      emailUpdates: false,\n      mobileMoneyProvider: \"\"\n    },\n    validationSchema,\n    onSubmit: async values => {\n      try {\n        setIsSubmitting(true);\n        setError(null);\n        setPaymentStatus(null);\n\n        // Check if email exists before proceeding\n        const exists = await checkEmailExists(values.email);\n        if (exists) {\n          setEmailExists(true);\n          setError(\"This email is already registered as a sponsor. Please use a different email address.\");\n          setIsSubmitting(false);\n          return;\n        }\n\n        // Calculate total amount\n        const totalAmount = calculateTotalPrice(values.sponsorNumber);\n\n        // Initiate mobile money payment\n        const paymentResponse = await initiateMobileMoneyPayment({\n          email: values.email,\n          amount: totalAmount,\n          phone: values.phoneNumber,\n          provider: values.mobileMoneyProvider\n        });\n        if (paymentResponse.status) {\n          // Submit form data to database\n          const response = await fetch(\"https://x8ki-letl-twmt.n7.xano.io/api:TF3YOouP/kbfoundation\", {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              ...values,\n              sponsorNumber: totalAmount * 100,\n              // Convert to pesewas\n              paymentReference: paymentResponse.data.reference\n            })\n          });\n          if (!response.ok) {\n            throw new Error(\"Failed to submit application\");\n          }\n          setPaymentStatus({\n            type: 'success',\n            message: 'Payment initiated successfully. Please check your phone for the payment prompt.',\n            reference: paymentResponse.data.reference\n          });\n          setShowThankYou(true);\n        } else {\n          throw new Error(paymentResponse.message || \"Payment initiation failed\");\n        }\n      } catch (err) {\n        setError(err.message);\n        setPaymentStatus({\n          type: 'error',\n          message: err.message\n        });\n      } finally {\n        setIsSubmitting(false);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n      minHeight: \"100vh\",\n      width: \"100%\",\n      sx: {\n        backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('/images/soccer-feet.jpg')`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n        paddingTop: \"70px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          justifyContent: \"center\",\n          py: 6,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            md: 8,\n            lg: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              sx: {\n                p: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(MKTypography, {\n                variant: \"h3\",\n                textAlign: \"center\",\n                mb: 3,\n                children: \"Become a Sponsor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: formik.handleSubmit,\n                children: [/*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(MKInput, {\n                    fullWidth: true,\n                    label: \"Full Name\",\n                    name: \"fullName\",\n                    value: formik.values.fullName,\n                    onChange: formik.handleChange,\n                    error: formik.touched.fullName && Boolean(formik.errors.fullName),\n                    helperText: formik.touched.fullName && formik.errors.fullName,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(MKInput, {\n                    fullWidth: true,\n                    label: \"Email\",\n                    name: \"email\",\n                    type: \"email\",\n                    value: formik.values.email,\n                    onChange: formik.handleChange,\n                    error: formik.touched.email && Boolean(formik.errors.email),\n                    helperText: formik.touched.email && formik.errors.email,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 192,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(PhoneInput, {\n                    fullWidth: true,\n                    label: \"Phone Number\",\n                    name: \"phoneNumber\",\n                    value: formik.values.phoneNumber,\n                    onChange: formik.handleChange,\n                    error: formik.touched.phoneNumber && Boolean(formik.errors.phoneNumber),\n                    helperText: formik.touched.phoneNumber && formik.errors.phoneNumber,\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    fullWidth: true,\n                    variant: \"standard\",\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      shrink: true,\n                      children: \"Number of Players to Sponsor\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      name: \"sponsorNumber\",\n                      value: formik.values.sponsorNumber,\n                      onChange: formik.handleChange,\n                      error: formik.touched.sponsorNumber && Boolean(formik.errors.sponsorNumber),\n                      displayEmpty: true,\n                      sx: {\n                        height: \"43px\",\n                        \"& .MuiSelect-select\": {\n                          paddingTop: \"12px\"\n                        }\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"\",\n                        disabled: true,\n                        children: \"Select number of players\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 232,\n                        columnNumber: 25\n                      }, this), [1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(number => /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: number,\n                        children: [number, \" Player\", number > 1 ? \"s\" : \"\", \" - GHS \", calculateTotalPrice(number)]\n                      }, number, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 27\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 23\n                    }, this), formik.touched.sponsorNumber && formik.errors.sponsorNumber && /*#__PURE__*/_jsxDEV(MKTypography, {\n                      variant: \"caption\",\n                      color: \"error\",\n                      children: formik.errors.sponsorNumber\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 2,\n                  children: /*#__PURE__*/_jsxDEV(FormControl, {\n                    fullWidth: true,\n                    variant: \"standard\",\n                    children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                      shrink: true,\n                      children: \"Mobile Money Provider\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      name: \"mobileMoneyProvider\",\n                      value: formik.values.mobileMoneyProvider,\n                      onChange: formik.handleChange,\n                      error: formik.touched.mobileMoneyProvider && Boolean(formik.errors.mobileMoneyProvider),\n                      displayEmpty: true,\n                      sx: {\n                        height: \"43px\",\n                        \"& .MuiSelect-select\": {\n                          paddingTop: \"12px\"\n                        }\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"\",\n                        disabled: true,\n                        children: \"Select provider\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 265,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"mtn\",\n                        children: \"MTN Mobile Money\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"vod\",\n                        children: \"Vodafone Cash\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                        value: \"atl\",\n                        children: \"AirtelTigo Money\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 270,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 23\n                    }, this), formik.touched.mobileMoneyProvider && formik.errors.mobileMoneyProvider && /*#__PURE__*/_jsxDEV(MKTypography, {\n                      variant: \"caption\",\n                      color: \"error\",\n                      children: formik.errors.mobileMoneyProvider\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), formik.values.sponsorNumber && /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 3,\n                  children: /*#__PURE__*/_jsxDEV(MKTypography, {\n                    variant: \"body2\",\n                    color: \"text\",\n                    children: [\"Total Sponsorship Amount: GHS \", calculateTotalPrice(formik.values.sponsorNumber)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MKBox, {\n                  mb: 3,\n                  children: /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                      name: \"emailUpdates\",\n                      checked: formik.values.emailUpdates,\n                      onChange: e => {\n                        formik.handleChange(e);\n                        formik.setFieldValue(\"emailUpdates\", e.target.checked);\n                      },\n                      onBlur: formik.handleBlur,\n                      color: \"error\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 25\n                    }, this),\n                    label: \"Receive email updates about sponsored players\",\n                    sx: {\n                      width: \"100%\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this), error && /*#__PURE__*/_jsxDEV(MKTypography, {\n                  color: \"error\",\n                  variant: \"caption\",\n                  mb: 2,\n                  children: error\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 21\n                }, this), paymentStatus && /*#__PURE__*/_jsxDEV(Alert, {\n                  severity: paymentStatus.type,\n                  sx: {\n                    mb: 2\n                  },\n                  children: paymentStatus.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(MKButton, {\n                  variant: \"contained\",\n                  color: \"error\",\n                  fullWidth: true,\n                  type: \"submit\",\n                  disabled: isSubmitting,\n                  children: isSubmitting ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                    size: 24,\n                    color: \"inherit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 330,\n                    columnNumber: 23\n                  }, this) : \"Become a Sponsor\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: showThankYou,\n      onClose: () => setShowThankYou(false),\n      maxWidth: \"sm\",\n      fullWidth: true,\n      children: /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(MKBox, {\n          textAlign: \"center\",\n          py: 4,\n          children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            color: \"success\",\n            sx: {\n              fontSize: 60,\n              mb: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MKTypography, {\n            variant: \"h4\",\n            mb: 2,\n            children: \"Thank You for Your Sponsorship!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MKTypography, {\n            variant: \"body1\",\n            mb: 3,\n            children: \"Your application has been submitted successfully. Please check your phone for the mobile money payment prompt to complete your sponsorship.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), (paymentStatus === null || paymentStatus === void 0 ? void 0 : paymentStatus.reference) && /*#__PURE__*/_jsxDEV(MKTypography, {\n            variant: \"caption\",\n            color: \"text.secondary\",\n            children: [\"Reference: \", paymentStatus.reference]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(BecomeSponsor, \"5intq+56bcdxq9k0frx8UoViYes=\", false, function () {\n  return [useFormik];\n});\n_c = BecomeSponsor;\nexport default BecomeSponsor;\nvar _c;\n$RefreshReg$(_c, \"BecomeSponsor\");","map":{"version":3,"names":["useState","useFormik","Yup","Container","Grid","Card","MKBox","MKTypography","MKButton","MKInput","FormControlLabel","Checkbox","Header","Footer","MenuItem","Select","FormControl","InputLabel","PhoneInput","Dialog","DialogContent","CheckCircleIcon","initiateMobileMoneyPayment","CircularProgress","Alert","jsxDEV","_jsxDEV","Fragment","_Fragment","validationSchema","object","shape","fullName","string","matches","min","max","required","email","phoneNumber","sponsorNumber","number","emailUpdates","boolean","mobileMoneyProvider","oneOf","BecomeSponsor","_s","isSubmitting","setIsSubmitting","error","setError","emailExists","setEmailExists","showThankYou","setShowThankYou","paymentStatus","setPaymentStatus","PRICE_PER_PLAYER_GHS","calculateTotalPrice","numberOfPlayers","checkEmailExists","response","fetch","method","headers","body","JSON","stringify","data","json","err","formik","initialValues","onSubmit","values","exists","totalAmount","paymentResponse","amount","phone","provider","status","paymentReference","reference","ok","Error","type","message","children","fileName","_jsxFileName","lineNumber","columnNumber","minHeight","width","sx","backgroundImage","backgroundSize","backgroundPosition","paddingTop","container","justifyContent","py","item","xs","md","lg","p","variant","textAlign","mb","handleSubmit","fullWidth","label","name","value","onChange","handleChange","touched","Boolean","errors","helperText","shrink","displayEmpty","height","disabled","map","color","control","checked","e","setFieldValue","target","onBlur","handleBlur","severity","size","open","onClose","maxWidth","fontSize","_c","$RefreshReg$"],"sources":["/Users/dibelaba/Documents/GitHub/KBF/src/layouts/pages/BecomeSponsor/index.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport Container from \"@mui/material/Container\";\nimport Grid from \"@mui/material/Grid\";\nimport Card from \"@mui/material/Card\";\nimport MKBox from \"components/MKBox\";\nimport MKTypography from \"components/MKTypography\";\nimport MKButton from \"components/MKButton\";\nimport MKInput from \"components/MKInput\";\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\nimport Checkbox from \"@mui/material/Checkbox\";\nimport Header from \"components/Header\";\nimport Footer from \"components/Footer\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport Select from \"@mui/material/Select\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport PhoneInput from \"components/PhoneInput\";\nimport Dialog from '@mui/material/Dialog';\nimport DialogContent from '@mui/material/DialogContent';\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\nimport { initiateMobileMoneyPayment } from 'services/payment';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Alert from '@mui/material/Alert';\n\n// Form validation schema\nconst validationSchema = Yup.object().shape({\n  fullName: Yup.string()\n    .matches(/^[a-zA-Z\\s]*$/, \"Name can only contain letters\")\n    .min(2, \"Name is too short\")\n    .max(50, \"Name is too long\")\n    .required(\"Full name is required\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Email is required\"),\n  phoneNumber: Yup.string()\n    .matches(/^\\+?[0-9]\\d{1,14}$/, \"Invalid phone number\")\n    .required(\"Phone number is required\"),\n  sponsorNumber: Yup.number()\n    .min(1, \"Must sponsor at least 1 player\")\n    .max(10, \"Maximum 10 players per sponsor\")\n    .required(\"Number of players is required\"),\n  emailUpdates: Yup.boolean(),\n  mobileMoneyProvider: Yup.string()\n    .oneOf(['mtn', 'vod', 'atl'], \"Please select a valid mobile money provider\")\n    .required(\"Mobile money provider is required\"),\n});\n\nfunction BecomeSponsor() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [emailExists, setEmailExists] = useState(false);\n  const [showThankYou, setShowThankYou] = useState(false);\n  const [paymentStatus, setPaymentStatus] = useState(null);\n  const PRICE_PER_PLAYER_GHS = 465;\n\n  const calculateTotalPrice = (numberOfPlayers) => {\n    return numberOfPlayers * PRICE_PER_PLAYER_GHS;\n  };\n\n  const checkEmailExists = async (email) => {\n    try {\n      const response = await fetch(\n        \"https://x8ki-letl-twmt.n7.xano.io/api:TF3YOouP/check_email\",\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({ email }),\n        }\n      );\n\n      const data = await response.json();\n      return !!data.email;\n    } catch (err) {\n      return false;\n    }\n  };\n\n  const formik = useFormik({\n    initialValues: {\n      fullName: \"\",\n      email: \"\",\n      phoneNumber: \"\",\n      sponsorNumber: \"\",\n      emailUpdates: false,\n      mobileMoneyProvider: \"\",\n    },\n    validationSchema,\n    onSubmit: async (values) => {\n      try {\n        setIsSubmitting(true);\n        setError(null);\n        setPaymentStatus(null);\n\n        // Check if email exists before proceeding\n        const exists = await checkEmailExists(values.email);\n        if (exists) {\n          setEmailExists(true);\n          setError(\"This email is already registered as a sponsor. Please use a different email address.\");\n          setIsSubmitting(false);\n          return;\n        }\n\n        // Calculate total amount\n        const totalAmount = calculateTotalPrice(values.sponsorNumber);\n\n        // Initiate mobile money payment\n        const paymentResponse = await initiateMobileMoneyPayment({\n          email: values.email,\n          amount: totalAmount,\n          phone: values.phoneNumber,\n          provider: values.mobileMoneyProvider\n        });\n\n        if (paymentResponse.status) {\n          // Submit form data to database\n          const response = await fetch(\n            \"https://x8ki-letl-twmt.n7.xano.io/api:TF3YOouP/kbfoundation\",\n            {\n              method: \"POST\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              body: JSON.stringify({\n                ...values,\n                sponsorNumber: totalAmount * 100, // Convert to pesewas\n                paymentReference: paymentResponse.data.reference,\n              }),\n            }\n          );\n\n          if (!response.ok) {\n            throw new Error(\"Failed to submit application\");\n          }\n\n          setPaymentStatus({\n            type: 'success',\n            message: 'Payment initiated successfully. Please check your phone for the payment prompt.',\n            reference: paymentResponse.data.reference\n          });\n          setShowThankYou(true);\n        } else {\n          throw new Error(paymentResponse.message || \"Payment initiation failed\");\n        }\n      } catch (err) {\n        setError(err.message);\n        setPaymentStatus({\n          type: 'error',\n          message: err.message\n        });\n      } finally {\n        setIsSubmitting(false);\n      }\n    },\n  });\n\n  return (\n    <>\n      <Header />\n      <MKBox\n        minHeight=\"100vh\"\n        width=\"100%\"\n        sx={{\n          backgroundImage: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('/images/soccer-feet.jpg')`,\n          backgroundSize: \"cover\",\n          backgroundPosition: \"center\",\n          paddingTop: \"70px\",\n        }}\n      >\n        <Container>\n          <Grid container justifyContent=\"center\" py={6}>\n            <Grid item xs={12} md={8} lg={6}>\n              <Card sx={{ p: 4 }}>\n                <MKTypography variant=\"h3\" textAlign=\"center\" mb={3}>\n                  Become a Sponsor\n                </MKTypography>\n                <form onSubmit={formik.handleSubmit}>\n                  <MKBox mb={2}>\n                    <MKInput\n                      fullWidth\n                      label=\"Full Name\"\n                      name=\"fullName\"\n                      value={formik.values.fullName}\n                      onChange={formik.handleChange}\n                      error={formik.touched.fullName && Boolean(formik.errors.fullName)}\n                      helperText={formik.touched.fullName && formik.errors.fullName}\n                      required\n                    />\n                  </MKBox>\n                  <MKBox mb={2}>\n                    <MKInput\n                      fullWidth\n                      label=\"Email\"\n                      name=\"email\"\n                      type=\"email\"\n                      value={formik.values.email}\n                      onChange={formik.handleChange}\n                      error={formik.touched.email && Boolean(formik.errors.email)}\n                      helperText={formik.touched.email && formik.errors.email}\n                      required\n                    />\n                  </MKBox>\n                  <MKBox mb={2}>\n                    <PhoneInput\n                      fullWidth\n                      label=\"Phone Number\"\n                      name=\"phoneNumber\"\n                      value={formik.values.phoneNumber}\n                      onChange={formik.handleChange}\n                      error={formik.touched.phoneNumber && Boolean(formik.errors.phoneNumber)}\n                      helperText={formik.touched.phoneNumber && formik.errors.phoneNumber}\n                      required\n                    />\n                  </MKBox>\n                  <MKBox mb={2}>\n                    <FormControl fullWidth variant=\"standard\">\n                      <InputLabel shrink>Number of Players to Sponsor</InputLabel>\n                      <Select\n                        name=\"sponsorNumber\"\n                        value={formik.values.sponsorNumber}\n                        onChange={formik.handleChange}\n                        error={formik.touched.sponsorNumber && Boolean(formik.errors.sponsorNumber)}\n                        displayEmpty\n                        sx={{\n                          height: \"43px\",\n                          \"& .MuiSelect-select\": {\n                            paddingTop: \"12px\",\n                          },\n                        }}\n                      >\n                        <MenuItem value=\"\" disabled>\n                          Select number of players\n                        </MenuItem>\n                        {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map((number) => (\n                          <MenuItem key={number} value={number}>\n                            {number} Player{number > 1 ? \"s\" : \"\"} - GHS {calculateTotalPrice(number)}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                      {formik.touched.sponsorNumber && formik.errors.sponsorNumber && (\n                        <MKTypography variant=\"caption\" color=\"error\">\n                          {formik.errors.sponsorNumber}\n                        </MKTypography>\n                      )}\n                    </FormControl>\n                  </MKBox>\n\n                  <MKBox mb={2}>\n                    <FormControl fullWidth variant=\"standard\">\n                      <InputLabel shrink>Mobile Money Provider</InputLabel>\n                      <Select\n                        name=\"mobileMoneyProvider\"\n                        value={formik.values.mobileMoneyProvider}\n                        onChange={formik.handleChange}\n                        error={formik.touched.mobileMoneyProvider && Boolean(formik.errors.mobileMoneyProvider)}\n                        displayEmpty\n                        sx={{\n                          height: \"43px\",\n                          \"& .MuiSelect-select\": {\n                            paddingTop: \"12px\",\n                          },\n                        }}\n                      >\n                        <MenuItem value=\"\" disabled>\n                          Select provider\n                        </MenuItem>\n                        <MenuItem value=\"mtn\">MTN Mobile Money</MenuItem>\n                        <MenuItem value=\"vod\">Vodafone Cash</MenuItem>\n                        <MenuItem value=\"atl\">AirtelTigo Money</MenuItem>\n                      </Select>\n                      {formik.touched.mobileMoneyProvider && formik.errors.mobileMoneyProvider && (\n                        <MKTypography variant=\"caption\" color=\"error\">\n                          {formik.errors.mobileMoneyProvider}\n                        </MKTypography>\n                      )}\n                    </FormControl>\n                  </MKBox>\n\n                  {formik.values.sponsorNumber && (\n                    <MKBox mb={3}>\n                      <MKTypography variant=\"body2\" color=\"text\">\n                        Total Sponsorship Amount: GHS {calculateTotalPrice(formik.values.sponsorNumber)}\n                      </MKTypography>\n                    </MKBox>\n                  )}\n\n                  <MKBox mb={3}>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          name=\"emailUpdates\"\n                          checked={formik.values.emailUpdates}\n                          onChange={(e) => {\n                            formik.handleChange(e);\n                            formik.setFieldValue(\"emailUpdates\", e.target.checked);\n                          }}\n                          onBlur={formik.handleBlur}\n                          color=\"error\"\n                        />\n                      }\n                      label=\"Receive email updates about sponsored players\"\n                      sx={{ width: \"100%\" }}\n                    />\n                  </MKBox>\n\n                  {error && (\n                    <MKTypography color=\"error\" variant=\"caption\" mb={2}>\n                      {error}\n                    </MKTypography>\n                  )}\n\n                  {paymentStatus && (\n                    <Alert \n                      severity={paymentStatus.type} \n                      sx={{ mb: 2 }}\n                    >\n                      {paymentStatus.message}\n                    </Alert>\n                  )}\n\n                  <MKButton\n                    variant=\"contained\"\n                    color=\"error\"\n                    fullWidth\n                    type=\"submit\"\n                    disabled={isSubmitting}\n                  >\n                    {isSubmitting ? (\n                      <CircularProgress size={24} color=\"inherit\" />\n                    ) : (\n                      \"Become a Sponsor\"\n                    )}\n                  </MKButton>\n                </form>\n              </Card>\n            </Grid>\n          </Grid>\n        </Container>\n      </MKBox>\n\n      <Dialog\n        open={showThankYou}\n        onClose={() => setShowThankYou(false)}\n        maxWidth=\"sm\"\n        fullWidth\n      >\n        <DialogContent>\n          <MKBox textAlign=\"center\" py={4}>\n            <CheckCircleIcon color=\"success\" sx={{ fontSize: 60, mb: 2 }} />\n            <MKTypography variant=\"h4\" mb={2}>\n              Thank You for Your Sponsorship!\n            </MKTypography>\n            <MKTypography variant=\"body1\" mb={3}>\n              Your application has been submitted successfully. Please check your phone for the mobile money payment prompt to complete your sponsorship.\n            </MKTypography>\n            {paymentStatus?.reference && (\n              <MKTypography variant=\"caption\" color=\"text.secondary\">\n                Reference: {paymentStatus.reference}\n              </MKTypography>\n            )}\n          </MKBox>\n        </DialogContent>\n      </Dialog>\n\n      <Footer />\n    </>\n  );\n}\n\nexport default BecomeSponsor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}